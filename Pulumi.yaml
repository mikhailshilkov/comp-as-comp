name: comp-as-comp
description: A minimal TypeScript Pulumi program
runtime:
  name: nodejs
  options:
    packagemanager: yarn
plugins:
  providers:
    - name: tls-self-signed-cert
      path: ../../pulumi-tls-self-signed-cert
config:
  encryptionConfigurations:
    type: array
    items:
      type: object
      properties:
        encryptionType:
          type: string
        kmsKey:
          type: string
    description: "Encryption settings for the repository"

  forceDelete:
    type: boolean
    description: "Whether to force deletion of the repository"

  imageScanningConfiguration:
    type: object
    properties:
      scanOnPush:
        type: boolean
    description: "Image scanning settings for the repository"

  imageTagMutability:
    type: string
    description: "The tag mutability setting for the repository"

  lifecyclePolicy:
    type: object
    properties:
      rules:
        type: array
        items:
          type: object
          properties:
            description:
              type: string
            maximumAgeLimit:
              type: number
            maximumNumberOfImages:
              type: number
            tagPrefixList:
              type: array
              items:
                type: string
            tagStatus:
              type: string
              enum: ["any", "untagged", "tagged"]
      skip:
        type: boolean
    description: "Lifecycle policy settings for the repository"

  name:
    type: string
    description: "The name of the repository"

  tags:
    type: object
    description: "Key-value pairs of tags for the repository"
# outputs:
#   repositoryId: string
#   lifecyclePolicyId: string